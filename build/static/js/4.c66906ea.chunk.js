(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{201:function(t,e,a){"use strict";a.r(e);var r=a(3),n=a(4),c=a(6),i=a(1),u=a(5),o=a(0),s=a.n(o),d=a(9),l=a.n(d),p=a(12),f=a(14),h=a.n(f),m=a(15),b=a(13),v=a(88),j=a(107),O=a(108),k=a.n(O),g=a(198),y=a.n(g),w=function(t){return new Promise(function(e){return setTimeout(e,t)})},S=function(){var t=Object(p.a)(l.a.mark(function t(e,a,r){var n,c,i,u;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(300);case 2:n=k()(e.getValue(),function(t){return t.sku}),c=n[a],i=c?Object(j.a)({},c,{quantity:c.quantity+r}):{sku:a,quantity:r},u=Object(j.a)({},n,Object(v.a)({},a,i)),e.next(y()(u));case 7:case"end":return t.stop()}},t)}));return function(e,a,r){return t.apply(this,arguments)}}(),E=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(u)))).state={isAdding:!1},a.onClick=Object(p.a)(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({isAdding:!0}),t.next=3,a.props.addToCart();case 3:a.setState({isAdding:!1});case 4:case"end":return t.stop()}},t)})),a}return Object(u.a)(e,t),Object(n.a)(e,[{key:"render",value:function(){return s.a.createElement("button",{onClick:this.onClick,disabled:this.state.isAdding},"Buy for $",this.props.price.toFixed(2))}}]),e}(s.a.Component),C=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(u)))).cartStream=void 0,a.addToCart=Object(p.a)(l.a.mark(function t(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a.getAttribute("data-sku"),!a.cartStream||!e){t.next=4;break}return t.next=4,S(a.cartStream,e,1);case 4:case"end":return t.stop()}},t)})),a}return Object(u.a)(e,t),Object(n.a)(e,[{key:"onConnected",value:function(){this.cartStream=Object(b.b)(this,"cartStream")}},{key:"render",value:function(){var t=parseFloat(this.getAttribute("data-price")||"");h.a.render(s.a.createElement(E,{price:t,addToCart:this.addToCart}),this)}}],[{key:"observedAttributes",get:function(){return["data-sku","data-price"]}}]),e}(m.a);C.tagName="add-to-cart",customElements.define(C.tagName,C);var A=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(u)))).cartStream=void 0,a}return Object(u.a)(e,t),Object(n.a)(e,[{key:"onConnected",value:function(){this.cartStream=Object(b.b)(this,"cartStream"),this.cartStream&&this.subscribeTo(this.cartStream)}},{key:"render",value:function(){if(this.cartStream){var t=this.cartStream.getValue().reduce(function(t,e){return t+e.quantity},0);h.a.render(s.a.createElement("div",null,"Basket: ",t," item(s)"),this)}}}]),e}(m.a);A.tagName="cart-indicator-container",customElements.define(A.tagName,A),a.d(e,"default",function(){return x});var x=function(t){function e(){return Object(r.a)(this,e),Object(c.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(n.a)(e,[{key:"getVariant",value:function(){var t=this;if(this.props.product)return this.props.product.variants.find(function(e){return e.sku===t.props.variantSku})}},{key:"render",value:function(){var t=this.props;if(!t.product)return s.a.createElement("h1",null,"Product not found");var e=this.getVariant();return s.a.createElement("div",null,s.a.createElement("h1",null,"The Model Store"),s.a.createElement("h2",null,t.product.name),s.a.createElement(A.tagName,null),e&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,e.name),s.a.createElement(C.tagName,{"data-sku":e.sku,"data-price":e.price})))}}]),e}(s.a.Component)}}]);
//# sourceMappingURL=4.c66906ea.chunk.js.map